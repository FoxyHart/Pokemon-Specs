let pokemonRepository=function(){function t(t){let e=$(".modal-title"),n=$(".modal-body"),o=t.types.map(function(t){return t.type.name});e.empty(),n.empty();let i=$('<h1 class="text-capitalize">'+t.name+"</h1>"),a=$('<p class="text-capitalize">Types: '+o+"</p>"),l=$("<p>Height: "+t.height+"m</p>"),s=$("<p>Weight: "+t.weight+"</p>"),r=$("<img>");r.attr("src",t.imageUrl);let p=$("<img>");p.attr("src",t.imageUrlShiny),e.append(i),n.append(a),n.append(l),n.append(s),n.append(r),n.append(p)}let e=[],n="https://pokeapi.co/api/v2/pokemon/?limit=1083";function o(t){e.push(t)}function i(t){let e=t.detailsUrl;return fetch(e).then(function(t){return t.json()}).then(function(e){t.imageUrl=e.sprites.front_default,t.imageUrlShiny=e.sprites.front_shiny,t.height=e.height,t.types=e.types,t.weight=e.weight,t.imageUrlOfficial=e.sprites.other["official-artwork"].front_default}).catch(function(t){console.error(t)})}let a=document.querySelector("#searchbar");a.addEventListener("input",()=>{const t=document.querySelector(".pokemon-list"),e=a.value.toUpperCase(),n=t.getElementsByTagName("li");for(let t=0;t<n.length;t++){const o=n[t].getElementsByTagName("button")[0];(o.textContent||o.innerText).toUpperCase().indexOf(e)>-1?n[t].style.display="":n[t].style.display="none"}});for(var l=document.getElementsByClassName("button"),s=0;s<l.length;s++)"ok"==l[s].id&&(l[s].style.background="");function r(e){pokemonRepository.loadDetails(e).then(function(){t(e)})}return{add:o,getAll:function(){return e},addListItem:function(t){let e=document.querySelector(".pokemon-list"),n=document.createElement("li"),o=document.createElement("button");o.innerText=t.name,o.classList.add("button-class"),n.classList.add("group-list-item"),n.appendChild(o),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#pokemonModal"),e.appendChild(n),i(t).then(function(){let e=document.createElement("div");e.classList.add("buttonImg"),o.appendChild(e);let n=document.createElement("img");n.classList.add("imgOfficialArt"),n.src=t.imageUrlOfficial,e.appendChild(n)}),o.addEventListener("click",function(){r(t)})},loadList:function(){return fetch(n).then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){o({name:t.name,detailsUrl:t.url})})})},loadDetails:i,showDetails:r,showModal:t}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});